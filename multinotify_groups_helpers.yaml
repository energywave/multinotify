# -------------------------------------------------------------------------------------------------
# Package Multinotify - Definizione gruppi per le notifiche e aiutanti usati dallo script
# -------------------------------------------------------------------------------------------------

group:
  # TODO: di seguito è necessario definire un gruppo Home Assistant per ogni gruppo di dispositivi Echo 
  #       nella sezione "Gruppi di altoparlanti" visibili in fondo alla sezione "dispositivi" dell'app Alexa.
  #       Rimuovi "piani_superiori" se hai il solo gruppo "ovunque" e null'altro o personalizzalo / aggiungi 
  #       gli altri tuoi gruppi.
  #       Questa sezione è fondamentale per indicare a multinotify quali dispositivi sono presenti in ogni 
  #       gruppo di altoparlanti presenti in Alexa, così che se si utilizza la relativa entità media_player.<nome_gruppo>
  #       multinotify sa quali dispositivi processare (purtroppo Alexa Media Player non ci da questa informazione quindi
  #       dobbiamo inserirla noi attraverso i seguenti gruppi)
  ovunque:
    name: Tutti i device Echo
    entities:
      # TODO: modificare l'elenco delle entità del gruppo con i dispositivi Alexa presenti in questo gruppo
      - media_player.pian_terreno
      - media_player.primo_piano
      - media_player.mansarda
  piani_superiori:
    name: Device Echo dei piani superiori
    entities:
      - media_player.primo_piano
      - media_player.mansarda

notify:
  # Gruppo notify.all_devices da utilizzare in multinotify per inviare una notifica a tutte le app
  # Puoi aggiungere altri gruppi come meglio credi da usare in seguito. 
  # IMPORTANTE: crea solo gruppi di dispositivi omogenei tra Android e iOS, NON creare gruppi misti.
  # Se crei gruppi di dispositivi iOS ricorda di inserire anche essi nell'elenco iphones negli anchor
  # in testa a multinotify_v3.yaml!
  - name: all_devices
    platform: group
    services:
      # TODO: modificare l'elenco dei servizi con i propri servizi di invio notifica alle app Home Assistant Companion collegate
      - service: mobile_app_tel_henrik
      - service: mobile_app_smartphone_antonella

input_text:
  multinotify_last_alexa_message:
    name: Ultima notifica multinotify ad Alexa
    icon: mdi:history
  multinotify_last_tts_message:
    name: Ultima notifica multinotify TTS
    icon: mdi:history
input_datetime:
  multinotify_dnd_start:
    name: Orario inizio DND
    has_time: true
    has_date: false
    icon: mdi:clock-start
  multinotify_dnd_end:
    name: Orario fine DND
    has_time: true
    has_date: false
    icon: mdi:clock-end